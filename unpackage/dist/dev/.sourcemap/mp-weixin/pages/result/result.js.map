{"version":3,"file":"result.js","sources":["pages/result/result.vue","D:/浏览器下载/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcmVzdWx0L3Jlc3VsdC52dWU"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- 表型采集结果 -->\n    <view class=\"result-content\">\n      <view class=\"image-single\">\n        <!-- 添加点击事件显示大图 -->\n        <image v-if=\"imageUrl\" class=\"result-image\" :src=\"formattedImageUrl\" mode=\"aspectFill\" @click=\"showImagePreview\" />\n        <view v-else class=\"loading-tip\">\n          <text>加载图片中...</text>\n        </view>\n      </view>\n      <view class=\"info-group\">\n        <view class=\"info-item\">\n          <text class=\"info-label\">任务ID：</text>\n          <text class=\"info-value\">{{ taskId }}</text>\n        </view>\n        <view class=\"info-item\">\n          <text class=\"info-label\">任务名称：</text>\n          <text class=\"info-value\">{{ taskName }}</text>\n        </view>\n        <view class=\"info-item\">\n          <text class=\"info-label\">小区ID：</text>\n          <text class=\"info-value\">{{ plotId }}</text>\n        </view>\n        <view class=\"info-item\">\n          <text class=\"info-label\">小区名称：</text>\n          <text class=\"info-value\">{{ blockNum }}</text>\n        </view>\n        <view class=\"info-item\">\n          <text class=\"info-label\">图片编号：</text>\n          <!-- 移除可编辑状态，始终显示图片编号 -->\n          <view class=\"info-value\">{{ imgId }}</view>\n        </view>\n        \n        <!-- 样品编号 - 可编辑/只读状态切换 -->\n        <view class=\"info-item\" v-if=\"!isEditing\">\n          <text class=\"info-label\">样品编号：</text>\n          <text class=\"info-value\">{{ sampleId }}</text>\n        </view>\n        <view class=\"info-item\" v-else>\n          <text class=\"info-label\">样品编号：</text>\n          <input class=\"edit-input\" v-model=\"editSampleId\" placeholder=\"请输入样品编号\" />\n        </view>\n        \n        <!-- 经度 - 可编辑/只读状态切换 -->\n        <view class=\"info-item\" v-if=\"!isEditing\">\n          <text class=\"info-label\">经度：</text>\n          <text class=\"info-value\">{{ longitude }}</text>\n        </view>\n        <view class=\"info-item\" v-else>\n          <text class=\"info-label\">经度：</text>\n          <input class=\"edit-input\" v-model=\"editLongitude\" placeholder=\"请输入经度\" />\n        </view>\n        \n        <!-- 纬度 - 可编辑/只读状态切换 -->\n        <view class=\"info-item\" v-if=\"!isEditing\">\n          <text class=\"info-label\">纬度：</text>\n          <text class=\"info-value\">{{ latitude }}</text>\n        </view>\n        <view class=\"info-item\" v-else>\n          <text class=\"info-label\">纬度：</text>\n          <input class=\"edit-input\" v-model=\"editLatitude\" placeholder=\"请输入纬度\" />\n        </view>\n        \n        <!-- 备注 - 可编辑/只读状态切换 -->\n        <view class=\"info-item\" v-if=\"!isEditing\">\n          <text class=\"info-label\">备注：</text>\n          <text class=\"info-value\">{{ remark }}</text>\n        </view>\n        <view class=\"info-item\" v-else>\n          <text class=\"info-label\">备注：</text>\n          <input class=\"edit-input\" v-model=\"editRemark\" placeholder=\"请输入备注信息\" />\n        </view>\n        \n        <!-- 病害类型 - 可编辑/只读状态切换 -->\n        <view class=\"info-item\" v-if=\"!isEditing\">\n          <text class=\"info-label\">病害类型：</text>\n          <text class=\"info-value\">{{ diseaseType }}</text>\n        </view>\n        <view class=\"info-item\" v-else>\n          <text class=\"info-label\">病害类型：</text>\n          <picker \n            class=\"picker\"\n            mode=\"selector\" \n            :range=\"diseaseTypes\"\n            @change=\"onDiseaseChange\"\n            :value=\"diseaseIndex\"\n          >\n            <view class=\"picker-text\">\n              {{ diseaseTypes[diseaseIndex] || '请选择病害类型' }}\n            </view>\n          </picker>\n        </view>\n        \n        <!-- 病害等级 - 可编辑/只读状态切换 -->\n        <view class=\"info-item\" v-if=\"!isEditing\">\n          <text class=\"info-label\">病害等级：</text>\n          <text class=\"info-value\">{{ diseaseLevel }}</text>\n        </view>\n        <view class=\"info-item\" v-else>\n          <text class=\"info-label\">病害等级：</text>\n          <input \n            class=\"edit-input\" \n            v-model=\"editDiseaseLevel\" \n            placeholder=\"请输入病害等级(1-9)\" \n            type=\"digit\"\n            @input=\"validateDiseaseLevel\"\n          />\n        </view>\n        \n        <view class=\"info-item\">\n          <text class=\"info-label\">上传状态：</text>\n          <text class=\"info-value\">{{ getStatusText(status) }}</text>\n        </view>\n      </view>\n    </view>\n    \n    <!-- 按钮区域 -->\n    <view class=\"button-area\">\n      <button v-if=\"!isEditing\" class=\"action-btn modify\" @click=\"startEditing\">修改</button>\n      <button v-else class=\"action-btn confirm-modify\" @click=\"confirmEditing\">确认修改</button>\n      <button class=\"action-btn back\" @click=\"handleBack\">返回</button>\n    </view>\n    \n    <!-- 修改确认弹窗 -->\n    <view class=\"modal\" v-if=\"showModifyModal\">\n      <view class=\"modal-content\">\n        <view class=\"modal-header\">\n          <text class=\"modal-title\">确认修改</text>\n        </view>\n        <view class=\"modal-body\">\n          <text>是否对编号为 {{ imgId }} 的图片进行信息修改？</text>\n        </view>\n        <view class=\"modal-footer\">\n          <button class=\"modal-btn cancel\" @click=\"cancelModify\">返回</button>\n          <button class=\"modal-btn confirm\" @click=\"saveModify\">确认</button>\n        </view>\n      </view>\n    </view>\n    \n    <!-- 大图预览弹窗 -->\n    <view class=\"image-preview\" v-if=\"showPreview\">\n      <view class=\"preview-mask\" @click=\"closePreview\"></view>\n      <view class=\"preview-content\">\n        <image class=\"preview-image\" :src=\"formattedImageUrl\" mode=\"aspectFit\" />\n        <view class=\"close-btn\" @click=\"closePreview\">×</view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      taskId: '',\n      taskName: '',\n      plotId: '',\n      blockNum: '',\n      imgId: '',\n      imageUrl: '',\n      longitude: '',\n      latitude: '',\n      sampleId: '', // 新增样品编号字段\n      remark: '',   // 单独备注字段\n      diseaseType: '',\n      diseaseLevel: '',\n      status: '',\n      \n      // 编辑状态相关\n      isEditing: false,\n      editLongitude: '',\n      editLatitude: '',\n      editSampleId: '', // 编辑状态的样品编号\n      editRemark: '',   // 编辑状态的备注\n      editDiseaseLevel: '',\n      diseaseTypes: ['黄叶病', '锈斑病', '其他'],\n      diseaseIndex: 0,\n      \n      // 接口数据\n      imageDetail: null,\n      \n      // 全局数据引用\n      globalData: getApp().globalData,\n      \n      // 弹窗控制\n      showModifyModal: false,\n      \n      // 大图预览控制\n      showPreview: false,\n      \n      // 修改请求状态\n      isSubmitting: false,\n      \n      // 原始备注信息，用于取消编辑时恢复\n      originalNote: ''\n    };\n  },\n  computed: {\n    // 格式化图片URL，将localhost替换为10.100.5.57\n    formattedImageUrl() {\n      if (!this.imageUrl) return '';\n      return this.imageUrl.replace('localhost', 'larsc.hzau.edu.cn');\n    }\n  },\n  onLoad(options) {\n    this.taskId = options.taskId || '';\n    this.taskName = options.taskName || '';\n    this.plotId = options.plotId || '';\n    this.imgId = options.imgId || '';\n    this.branchTaskId = options.branchTaskId || '';\n    this.blockId = options.blockId || '';\n    this.imageNum = options.imageNum || '';\n    \n    // 调用接口获取图片详细信息\n    this.fetchImageDetail();\n  },\n  methods: {\n    // 调用接口获取图片详细信息\n    async fetchImageDetail() {\n      if (!this.branchTaskId || !this.blockId || !this.imageNum) {\n        uni.showToast({\n          title: '参数不完整，无法获取图片信息',\n          icon: 'none'\n        });\n        return;\n      }\n      \n      try {\n        uni.showLoading({ title: '加载中...' });\n        const token = uni.getStorageSync('token');\n        if (!token) {\n          throw new Error('用户未登录');\n        }\n        \n        const response = await uni.request({\n          url: `${this.globalData.baseUrl || 'https://larsc.hzau.edu.cn/prod-api'}/plant-disease/singlePictureInfo`,\n          method: 'GET',\n          header: {\n            'Authorization': token,\n            'Accept': '*/*'\n          },\n          data: {\n            branchTaskId: this.branchTaskId,\n            blockId: this.blockId,\n            imageNum: this.imageNum\n          }\n        });\n        \n        let res = Array.isArray(response) ? response[0] : response;\n        \n        if (res.statusCode === 200 && res.data?.code === 200) {\n          const data = res.data.data;\n          this.imageDetail = data;\n          this.imageUrl = data.imageUrl;\n          this.longitude = data.longitude;\n          this.latitude = data.latitude;\n          this.originalNote = data.remark || '';\n          \n          // 解析备注信息，拆分为样品编号和备注\n          if (this.originalNote) {\n            const parts = this.originalNote.split('#');\n            this.sampleId = parts[0] || '';\n            this.remark = parts[1] || '';\n          }\n          \n          this.diseaseType = data.diseaseType;\n          this.diseaseLevel = data.diseaseLevel;\n          this.status = data.status || 'uploaded';\n          this.blockNum = data.blockNum;\n          this.imgId = data.imageNum || this.imgId; // 使用接口返回的imageNum\n          \n          // 初始化编辑状态的输入值\n          this.editLongitude = this.longitude;\n          this.editLatitude = this.latitude;\n          this.editSampleId = this.sampleId;\n          this.editRemark = this.remark;\n          this.editDiseaseLevel = this.diseaseLevel;\n          this.diseaseIndex = this.diseaseTypes.indexOf(this.diseaseType) >= 0 \n            ? this.diseaseTypes.indexOf(this.diseaseType) \n            : 0;\n        } else {\n          throw new Error(res.data?.msg || '获取图片信息失败');\n        }\n      } catch (error) {\n        console.error('获取图片详情失败:', error);\n        uni.showToast({\n          title: error.message || '获取图片信息失败',\n          icon: 'none'\n        });\n      } finally {\n        uni.hideLoading();\n      }\n    },\n    \n    // 开始编辑\n    startEditing() {\n      this.isEditing = true;\n    },\n    \n    // 确认编辑\n    confirmEditing() {\n      this.showModifyModal = true;\n    },\n    \n    // 取消修改\n    cancelModify() {\n      this.showModifyModal = false;\n    },\n    \n    // 保存修改 - 对接编辑接口\n    async saveModify() {\n      if (this.isSubmitting) return;\n      \n      // 验证病害等级\n      if (this.editDiseaseLevel && (this.editDiseaseLevel < 1 || this.editDiseaseLevel > 9)) {\n        uni.showToast({\n          title: '病害等级必须在1-9之间',\n          icon: 'none'\n        });\n        return;\n      }\n      \n      try {\n        this.isSubmitting = true;\n        this.showModifyModal = false;\n        \n        const token = uni.getStorageSync('token');\n        if (!token) {\n          throw new Error('用户未登录');\n        }\n        \n        // 拼接样品编号和备注\n        const combinedNote = `${this.editSampleId || ''}#${this.editRemark || ''}`;\n        \n        // 准备请求数据\n        const requestData = {\n          id: this.imageDetail?.id,\n          longitude: this.editLongitude,\n          latitude: this.editLatitude,\n          remark: combinedNote, // 使用拼接后的备注\n          diseaseType: this.diseaseTypes[this.diseaseIndex],\n          diseaseLevel: this.editDiseaseLevel,\n          imageUrl: this.imageUrl,\n          branchTaskId: this.branchTaskId,\n          blockId: this.blockId,\n          blockNum: this.blockNum\n        };\n        \n        // 调用编辑接口\n        const response = await uni.request({\n          url: `${this.globalData.baseUrl || 'https://larsc.hzau.edu.cn/prod-api'}/plant-disease/editInfo`,\n          method: 'POST',\n          header: {\n            'Authorization': token,\n            'Content-Type': 'application/json',\n            'Accept': '*/*'\n          },\n          data: requestData\n        });\n        \n        let res = Array.isArray(response) ? response[0] : response;\n        \n        if (res.statusCode === 200 && res.data?.code === 200) {\n          // 更新本地数据\n          this.longitude = this.editLongitude;\n          this.latitude = this.editLatitude;\n          this.sampleId = this.editSampleId;\n          this.remark = this.editRemark;\n          this.diseaseLevel = this.editDiseaseLevel;\n          this.diseaseType = this.diseaseTypes[this.diseaseIndex];\n          this.originalNote = combinedNote;\n          \n          this.isEditing = false;\n          \n          uni.showToast({\n            title: '修改成功',\n            icon: 'success'\n          });\n          \n          // 使用事件总线通知上一页刷新数据\n          uni.$emit('imageInfoUpdated', {\n            imgId: this.imgId,\n            updatedData: {\n              longitude: this.longitude,\n              latitude: this.latitude,\n              remark: combinedNote,\n              diseaseType: this.diseaseType,\n              diseaseLevel: this.diseaseLevel\n            }\n          });\n          \n          // 延迟返回以确保事件被接收\n          setTimeout(() => {\n            uni.navigateBack();\n          }, 500);\n        } else {\n          throw new Error(res.data?.msg || '修改失败');\n        }\n      } catch (error) {\n        console.error('修改图片信息失败:', error);\n        uni.showToast({\n          title: error.message || '修改失败',\n          icon: 'none'\n        });\n      } finally {\n        this.isSubmitting = false;\n      }\n    },\n    \n    // 病害类型变更\n    onDiseaseChange(e) {\n      this.diseaseIndex = e.detail.value;\n    },\n    \n    // 验证病害等级输入\n    validateDiseaseLevel(e) {\n      // 限制输入为1-5的数字\n      let value = e.detail.value;\n      if (value) {\n        value = parseInt(value);\n        if (isNaN(value) || value < 1) {\n          value = 1;\n        } else if (value > 9) {\n          value = 9;\n        }\n        this.editDiseaseLevel = value.toString();\n      }\n    },\n    \n    getStatusText(status) {\n      const map = {\n        uploaded: '已上传',\n        notUploaded: '未上传'\n      };\n      return map[status] || status;\n    },\n    \n    // 显示大图预览\n    showImagePreview() {\n      if (this.imageUrl) {\n        this.showPreview = true;\n      }\n    },\n    \n    // 关闭大图预览\n    closePreview() {\n      this.showPreview = false;\n    },\n    \n    // 处理返回操作\n    handleBack() {\n      if (this.isEditing) {\n        // 如果正在编辑，询问是否放弃修改\n        uni.showModal({\n          title: '提示',\n          content: '您有未保存的修改，确定要返回吗？',\n          success: (res) => {\n            if (res.confirm) {\n              // 恢复原始数据\n              this.editSampleId = this.sampleId;\n              this.editRemark = this.remark;\n              this.isEditing = false;\n              uni.navigateBack();\n            }\n          }\n        });\n      } else {\n        uni.navigateBack();\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.container {\n  padding: 30rpx;\n  background-color: #f8f8f8;\n}\n.result-content {\n  background-color: #fff;\n  border-radius: 20rpx;\n  padding: 40rpx;\n  margin-bottom: 40rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n}\n.image-single {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 40rpx;\n  position: relative;\n}\n.result-image {\n  width: 100%;\n  max-height: 600rpx;\n  border-radius: 16rpx;\n  cursor: pointer;\n}\n.loading-tip {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #999;\n}\n.info-group {\n  width: 100%;\n}\n.info-item {\n  display: flex;\n  align-items: center;\n  padding: 20rpx 0;\n  border-bottom: 1rpx solid #f0f0f0;\n}\n.info-label {\n  color: #666;\n  font-size: 28rpx;\n  width: 200rpx;\n  flex-shrink: 0;\n}\n.info-value {\n  color: #333;\n  font-size: 28rpx;\n  flex: 1;\n}\n.edit-input {\n  flex: 1;\n  height: 80rpx;\n  border: 1rpx solid #ddd;\n  border-radius: 8rpx;\n  padding: 0 30rpx;\n  font-size: 28rpx;\n  background-color: #f9f9f9;\n}\n.picker {\n  flex: 1;\n}\n.picker-text {\n  height: 80rpx;\n  line-height: 80rpx;\n  border: 1rpx solid #ddd;\n  border-radius: 8rpx;\n  padding: 0 30rpx;\n  font-size: 28rpx;\n  color: #333;\n  background-color: #f9f9f9;\n}\n.button-area {\n  display: flex;\n  justify-content: center;\n  margin: 60rpx 0 20rpx;\n}\n.action-btn {\n  margin: 0 30rpx;\n  height: 90rpx;\n  line-height: 90rpx;\n  border-radius: 45rpx;\n  font-size: 32rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 240rpx;\n  font-weight: 500;\n}\n.modify {\n  background-color: #FF9800;\n  color: white;\n  box-shadow: 0 4rpx 12rpx rgba(255, 152, 0, 0.2);\n}\n.confirm-modify {\n  background-color: #07C160;\n  color: white;\n  box-shadow: 0 4rpx 12rpx rgba(7, 193, 96, 0.2);\n}\n.back {\n  background-color: #999;\n  color: white;\n  box-shadow: 0 4rpx 12rpx rgba(153, 153, 153, 0.2);\n}\n/* 弹窗样式 */\n.modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 999;\n}\n.modal-content {\n  background-color: #fff;\n  width: 80%;\n  border-radius: 20rpx;\n  overflow: hidden;\n  box-shadow: 0 8rpx 32rpx rgba(0, 0, 0, 0.15);\n}\n.modal-header {\n  padding: 40rpx 0;\n  border-bottom: 1rpx solid #f0f0f0;\n  text-align: center;\n}\n.modal-title {\n  font-size: 36rpx;\n  font-weight: 600;\n  color: #333;\n}\n.modal-body {\n  padding: 40rpx;\n  text-align: center;\n  font-size: 30rpx;\n  color: #666;\n  line-height: 1.5;\n}\n.modal-footer {\n  display: flex;\n  border-top: 1rpx solid #f0f0f0;\n}\n.modal-btn {\n  flex: 1;\n  height: 90rpx;\n  line-height: 90rpx;\n  text-align: center;\n  background: none;\n  border: none;\n  font-size: 32rpx;\n  font-weight: 500;\n}\n.modal-btn.cancel {\n  color: #999;\n}\n.modal-btn.confirm {\n  color: #07C160;\n}\n\n/* 大图预览样式 */\n.image-preview {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 9999;\n}\n.preview-mask {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.preview-content {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 30rpx;\n}\n.preview-image {\n  max-width: 100%;\n  max-height: 100%;\n  border-radius: 16rpx;\n}\n.close-btn {\n  position: absolute;\n  top: 30rpx;\n  right: 30rpx;\n  width: 60rpx;\n  height: 60rpx;\n  background-color: rgba(0, 0, 0, 0.6);\n  color: white;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 40rpx;\n}\n</style>","import MiniProgramPage from 'C:/Users/25855/Desktop/狮山云瞳/狮山云瞳/狮山云瞳/狮山云瞳/pages/result/result.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}